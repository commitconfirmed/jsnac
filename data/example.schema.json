{
    "$schema": "http://json-schema.org/draft-07/schema",
    "title": "Example Schema",
    "$id": "example-schema.json",
    "description": "Ansible host vars for my networking device. Requires the below objects:\n- chassis\n- system\n- interfaces\n",
    "$defs": {
        "ipv4": {
            "type": "string",
            "pattern": "^((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])$",
            "title": "IPv4 Address",
            "description": "IPv4 address (String) \n Format: xxx.xxx.xxx.xxx"
        },
        "ipv6": {
            "type": "string",
            "pattern": "^(([a-fA-F0-9]{1,4}|):){1,7}([a-fA-F0-9]{1,4}|:)$",
            "title": "IPv6 Address",
            "description": "Short IPv6 address (String) \n Accepts both full and short form addresses, link-local addresses, and IPv4-mapped addresses"
        },
        "ipv4_cidr": {
            "type": "string",
            "pattern": "^((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])/(1[0-9]|[0-9]|2[0-9]|3[0-2])$",
            "title": "IPv4 CIDR",
            "description": "IPv4 CIDR (String) \n Format: xxx.xxx.xxx.xxx/xx"
        },
        "ipv6_cidr": {
            "type": "string",
            "pattern": "(([a-fA-F0-9]{1,4}|):){1,7}([a-fA-F0-9]{1,4}|:)/(32|36|40|44|48|52|56|60|64|128)$",
            "title": "IPv6 CIDR",
            "description": "Full IPv6 CIDR (String) \n Format: xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx/xxx"
        },
        "ipv4_prefix": {
            "type": "string",
            "title": "IPv4 Prefix",
            "pattern": "^/(1[0-9]|[0-9]|2[0-9]|3[0-2])$",
            "description": "IPv4 Prefix (String) \n Format: /xx between 0 and 32"
        },
        "ipv6_prefix": {
            "type": "string",
            "title": "IPv6 Prefix",
            "pattern": "^/(32|36|40|44|48|52|56|60|64|128)$",
            "description": "IPv6 prefix (String) \n Format: /xx between 32 and 64 in increments of 4. also /128"
        },
        "domain": {
            "type": "string",
            "pattern": "^([a-zA-Z0-9-]{1,63}\\.)+[a-zA-Z]{2,63}$",
            "title": "Domain Name",
            "description": "Domain name (String) \n Format: example.com"
        },
        "hostname": {
            "title": "Hostname",
            "description": "Hostname of the device",
            "type": "string",
            "pattern": "^[a-zA-Z0-9-]{1,63}$"
        }
    },
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "chassis": {
            "title": "Chassis",
            "description": "Object containing Chassis information. Has the below properties: \nhostname [required]: hostname\nmodel [required]: string\ndevice_type [required]: choice (router, switch, firewall, load-balancer)\n",
            "type": "object",
            "properties": {
                "hostname": {
                    "$ref": "#/$defs/hostname"
                },
                "model": {
                    "type": "string",
                    "title": "model",
                    "description": "String"
                },
                "device_type": {
                    "title": "Device Type",
                    "description": "Device Type options are:\nrouter, switch, firewall, load-balancer\n",
                    "enum": [
                        "router",
                        "switch",
                        "firewall",
                        "load-balancer"
                    ]
                }
            },
            "required": [
                "hostname",
                "model",
                "device_type"
            ]
        },
        "system": {
            "title": "System",
            "description": "Object containing System information. Has the below properties:\ndomain_name [required]: string\nntp_servers [required]: list of ipv4 addresses\n",
            "type": "object",
            "properties": {
                "domain_name": {
                    "type": "string",
                    "title": "domain_name",
                    "description": "String"
                },
                "ntp_servers": {
                    "title": "NTP Servers",
                    "description": "List of NTP servers",
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/ipv4"
                    }
                }
            },
            "required": [
                "domain_name",
                "ntp_servers"
            ]
        },
        "interfaces": {
            "title": "Device Interfaces",
            "description": "List of device interfaces. Each interface has the below properties:\nif [required]: string\ndesc: string\nipv4: ipv4_cidr\nipv6: ipv6_cidr\n",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "if": {
                        "type": "string",
                        "title": "if",
                        "description": "String"
                    },
                    "desc": {
                        "type": "string",
                        "title": "desc",
                        "description": "String"
                    },
                    "ipv4": {
                        "$ref": "#/$defs/ipv4_cidr"
                    },
                    "ipv6": {
                        "$ref": "#/$defs/ipv6_cidr"
                    }
                },
                "required": [
                    "if"
                ]
            }
        }
    }
}